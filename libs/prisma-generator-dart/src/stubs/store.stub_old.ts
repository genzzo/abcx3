
export const dartStoreStub = `
#{AutoGeneratedWarningText}

import 'package:abcx3/gen_models/common/abcx3_prisma.library.dart';
import 'package:abcx3/gen_models/models_library.dart';

typedef #{Model}Store = _#{Model}Store<#{Model}>;

class _#{Model}Store<T extends #{Model}> extends ModelStreamStore<int, T> {

  static late final _#{Model}Store _instance;

  static get instance {
    _instance ??= _#{Model}Store._();
    return _instance;
  }

  _#{Model}Store._() : super(#{Model}.fromJson as JsonFactory<T>);


  #{GetValMethods}


  #{GetByPropertyVal$}

  #{GetManyByPropertyVal$}

}

enum #{Model}Route implements Endpoint {

    #{Endpoints};

    const #{Model}Route(this.path, this.method, this.responseType);

    @override
  final String path;

  @override
  final HttpMethod method;

  final Type responseType;

  static String withPathParameter(String path, dynamic param) {
    final regex = RegExp(r':([a-zA-Z]+)');
    return path.replaceFirst(regex, param.toString());
  }

}
`;



export const dartStoreGetVal = `#{FieldType}#{Nullable} get#{Model}#{FieldName}(#{Model} #{model}) => #{model}.#{fieldName};`;

export const dartStoreGetByPropertyVal = `Stream<T?> getBy#{FieldName}$(#{FieldType} #{fieldName}, {bool useCache = true}) =>
getByFieldValue$<#{FieldType}>(getPropVal: get#{Model}#{FieldName}, value: #{fieldName}, endpoint: #{Model}Route.#{EndPointName}, useCache: useCache);`;

export const dartStoreGetManyByPropertyVal = `Stream<List<T?>> getManyBy#{FieldName}$(#{FieldType} #{fieldName}, {bool useCache = true}) =>
getManyByFieldValue$<#{FieldType}>(getPropVal: get#{Model}#{FieldName}, value: #{fieldName}, endpoint: #{Model}Route.#{EndPointManyName}, useCache: useCache);`;

// export const dartStoreEndpointName = `by#{FieldName}_$#{fieldName}_get_one`;

// export const dartStoreEndpointManyName = `by#{FieldName}_$#{fieldName}_get_many`;

export const dartStoreEndpointName = `getBy#{FieldName}`;

export const dartStoreEndpointManyName = `getManyBy#{FieldName}`;

export const dartStoreEndpoint = `#{EndPointName}('/#{model}/by#{FieldName}/:#{fieldName}', HttpMethod.get, #{Model})`;

export const dartStoreEndpointMany = `#{EndPointManyName}('/#{model}/by#{FieldName}/:#{fieldName}', HttpMethod.get, List<#{Model}>)`;



